<!doctype html>
<html amp lang="en" >
  
<!-- Mirrored from resources.xceptional.com/blog/2018/05/09/balancing-desire-location-analytics-user-privacy?hs_amp=true by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 23 Jan 2024 07:11:45 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Balancing the Desire for Location Analytics with User Privacy</title>
    <link rel="canonical" href="balancing-desire-location-analytics-user-privacy.html" />
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">

    <meta name="author" content="Natalie">

    <meta name="description" content="Balancing the Desire for Location Analytics with User Privacy">

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <meta name="generator" content="HubSpot">
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Balancing the Desire for Location Analytics with User Privacy",
        "datePublished": "2018-05-09T17:57:39Z",
        "dateModified": "2021-11-09T02:40:01.498Z",
        "mainEntityOfPage": "https://resources.xceptional.com/blog/2018/05/09/balancing-desire-location-analytics-user-privacy",
        "author": {
          "@type": "Person",
          "name": "Natalie"
        },
        "image": {
         "@type": "ImageObject",
        
          "url": "/hs/hsstatic/content_shared_assets/static-1.4092/img/default-amp-logo.png",
          "width": 60,
          "height": 60
        
        },
        "publisher" : {
          "@type": "Organization",
          "logo": {
            "@type": "ImageObject",
            
            "url": "/hs/hsstatic/content_shared_assets/static-1.4092/img/default-amp-logo.png",
            "width": 60,
            "height": 60
            
          },
          "name": "The Xceptional Blog"
        }
      }
    </script>
    <script async custom-element="amp-analytics" src="../../../../../cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style>
    <noscript>
      <style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style>
    </noscript>
  <style amp-custom>
      body {
        color: #404040;
        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        font-size: 18px;
        line-height: 1.6;
      }

      .hs-page-width-normal {
        box-sizing: content-box;
        margin: 0 auto;
        padding: 0 5vw 5vw;
      }

      .info {
        font-size: 14px
      }

      h1 {
        color: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        font-size: 26px;
        line-height: 1.5;
        font-weight: 600;
      }

      h1 a {
        color: #404040;
      }

      h2 {
        color: #404040;
        font-size: 22px;
        line-height: 38px;
      }

      a {
        color: #416bb3;
        text-decoration: none;
      }

      .logo-header-text {
        color: #1e1e1e;
        font-size: 36px;
        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        line-height: 2.0;
        font-weight: bold;
        vertical-align: text-bottom;
      }

      .hs-page-width-normal {
        padding: 5vw;
      }

      .iframe-placeholder {
        background-color: #bbb;
      }

      .header-banner {
        padding: 3vw 1vw;
        border-color: #dcdcdc;
        border-bottom-style: solid;
        border-bottom-width: thin;
        background-color: #ffffff;
        color: #1e1e1e;
        text-align: center;
      }

      .full-link {
        text-align: center;
      }

      .full-link a {
        border: 1px solid #dcdcdc;
        background-color: transparent;
        color: #416bb3;
        cursor: pointer;
        display: block;
        font-size: 14px;
        line-height: 18px;
        margin: 0 auto;
        max-width: 200px;
        padding: 11px 16px;
        text-decoration: none;
        width: 50%;
      }

    </style>
    <script async src="../../../../../cdn.ampproject.org/v0.js"></script>
  </head>
  <body>
    <div class="row-fluid">
      <div class="header-banner">
        <a class="blog-link" href="../../../../blog.html">
        
          <span class="logo-header-text">The Xceptional Blog</span>
         </a>
      </div>  
      <div class="hs-page-width-normal">
        <div class="post-header">
          <h1><a href="balancing-desire-location-analytics-user-privacy.html">Balancing the Desire for Location Analytics with User Privacy</a></h1>
        </div>
        <div class="info">
          <span> Written by <a class="author-link" href="../../../author/andy.html">Natalie</a> | May 9, 2018 5:57:39 PM </span>
        </div>
        <div class="blog-section">
          <span><h3>The Impact that MAC Randomization has on Location Analytics</h3> 
<p><strong>Introduction</strong><br> Bluetooth is a wireless personal area networking standard for exchanging data over short distances. Bluetooth low energy (BLE) (also known as Version 4.0+ of the Bluetooth specification, or Bluetooth Smart) is the power- and application-friendly version of Bluetooth that was built for the Internet of Things (IoT). The power efficiency and low energy functionality make this protocol perfect for battery operated devices. Since BLE now comes native on every modern phone, tablet and computer, it also makes for a perfect starting point to connect with the vast multitude of devices that IoT promises to bring to the world. A Bluetooth device, like any wireless device, announces itself to the world, by sending out advertisement packets.</p> 
<p><strong>Advertising</strong><br> BLE advertisements are a periodic unidirectional broadcast from the peripheral to all devices around it. A listener can then use the information in these packets to gather the information being advertised or connect to the advertiser. Certain devices can not be connected to, and this depends on the what is announced in the advertisement header. The four types of advertisements are:</p> 
<ol> 
 <li>Connectable undirected advertising</li> 
 <li>Connectable directed advertising</li> 
 <li>Non-connectable undirected advertising</li> 
 <li>Scannable undirected advertising</li> 
</ol> 
<p>Devices that only transmit, such as beacons, use the 3rd advertising type. Devices that need to quickly connect to something else, use the 2nd type. Most other devices use the 1st type of advertisement type. While advertising, the device can also indicate if it is using a random MAC address, or using its own MAC address. This gets important when doing passive analytics.</p> 
<p>The advertisement packet has up to 31 bytes that can be used to advertise additional information about the device. The most common payloads are:</p> 
<ul> 
 <li>Local Name</li> 
 <li>Manufacturer Specific Data</li> 
 <li>Power Level</li> 
</ul> 
<p>The manufacturer specific data, as indicated by the name, is where a device manufacturer can slot in their own specific information, while also identifying the make of the device. Every company that advertises over BLE is supposed to obtain a company identifier from Bluetooth SIG, and these identifiers can then be used to distinguish devices that are heard over the air. The manufacturer specific data is also where the payloads for beacons such as iBeacon, AltBeacon and Eddystone are present. For standard BLE devices, this is where Apple, for example, places information that can be used for services such as Handoff, Airdrop and Airplay.</p> 
<p><strong>Analytics and Privacy Implications</strong><br> With just the awareness of this knowledge, we can hypothesize about good mechanisms for ensuring a user’s privacy and then run some real world analysis to see if this holds up.</p> 
<p>For starters, any device that does not require a connection should use non-connectable advertisements. If connections are required, and only to specific previously known devices, then the connectable directed advertisement would be a suitable advertisement type to use.</p> 
<p>In either case, and as we have seen in the world of WiFi, randomizing the MAC address used to transmit is almost always useful.</p> 
<p>If one were take iOS and MacOS as an example we see some interesting patterns (see Table 1). Both do a fairly good job of keeping things random and ensuring that the device is not easily trackable. In my experiments, every time an iOS or MacOS device wakes up, it uses a new random MAC address. The device also only advertises in some scenarios. When the screen is unlocked, I was able to connect via BLE to a device and read out basic information like the Hardware Model number, Firmware version and current Battery status of the device. Some interesting packets that Apple Devices also send out include those for supporting common features like Handoff, Airplay, and Airdrop provided the device has BLE enabled.</p> 
<table width="80%"> 
 <thead> 
  <tr> 
   <th>Action</th> 
   <th>Advertising</th> 
    
  </tr> 
 </thead> 
 <tbody> 
  <tr> 
   <td>Phone Ringing</td> 
   <td>X</td> 
    
  </tr> 
  <tr> 
   <td>Phone Answered</td> 
   <td>yes</td> 
   <td>Connectable</td> 
  </tr> 
  <tr> 
   <td>Text Message Alert</td> 
   <td>x</td> 
    
  </tr> 
  <tr> 
   <td>“Hey Siri”</td> 
   <td>yes</td> 
   <td>No device info – so not identifiable but connectable</td> 
  </tr> 
  <tr> 
   <td>Screen Unlocked</td> 
   <td>yes</td> 
   <td>Connectable</td> 
  </tr> 
 </tbody> 
</table> 
<p>&nbsp;</p> 
<p>From what I’ve seen, only the Apple TV does not randomize its MAC address. From an analytics standpoint, this constant randomization does a great job of maintaining user privacy while also making it seem that there is a lot more devices around than they actually are. In current analysis, I have yet been unable to determine a pattern in the randomization, but this continues to be a work in progress.</p> 
<p>A more detailed capture via ubertooth sheds some light on BLE behavior by other devices. Of the mobile devices, it turns out that there are a few that never seemed to randomize the MAC address in an advertisement packet, which implies that once traced to a user that device can be monitored anywhere in the world.</p> 
<p>Mobile accessories don’t seem to follow a consistent behavior. At home, for example, my smart TV and headphones all advertise over BLE without any randomizing, while also being connectable. Some connectable devices, share details like the Device Information Service once a BLE connection is maintained, but also seem to have timeouts in place to kickoff random connections. Using a mixture of listening for advertisements and sending scan requests to devices that use Connectable Advertisements, one can also derive the user specific name of a device.</p> 
<p>Generically, accessories that need connections tend to avoid the randomized MAC address. I believe this is to facilitate easy connection by an app. Examples of such devices would be wireless headphones and headsets and connectable lamps.</p> 
<p><strong>Conclusion</strong><br> While many devices do use methods to obscure themselves from prying eyes, there are still some ways in which one can run passive analytics for BLE devices. This has limited scope, however, and can get into murky waters when it comes to user privacy.</p> 
<p>Active analytics, however, shows more promise. By getting people to install apps, one can drive user engagement and have people more aware of the system overall. This also helps in de-anonymizing the data coming from devices and opens up the possibility of relying on a mixture of WiFi (connected as well as unconnected) in conjunction with BLE.</p> 
<p>&nbsp;</p> 
<p>By Gurpreet Singh</p> 
<p>Published with permission from https://www.mist.com/news/?md_post_type=post</p></span>
        </div>
        <div class="full-link">
          <a href="balancing-desire-location-analytics-user-privacy.html">View full post</a>
        </div>
      </div>
    </div>
    
    <amp-pixel src="../../../../../track.hubspot.com/__ptq4bad.gif?cd=SCREEN_COLOR_DEPTH-bit&amp;cs=DOCUMENT_CHARSET&amp;ln=BROWSER_LANGUAGE&amp;sd=AVAILABLE_SCREEN_WIDTHxAVAILABLE_SCREEN_HEIGHT&amp;v=1.1&amp;iaa=1&amp;k=1&amp;ccu=CANONICAL_URL&amp;r=DOCUMENT_REFERRER&amp;ct=blog-post&amp;t=Balancing+the+Desire+for+Location+Analytics+with+User+Privacy&amp;pi=50503990858&amp;a=6853069&amp;nc=true&amp;cgi=23291088092&amp;lvi=50503990858&amp;lvc=en&amp;vi=CLIENT_ID(hubspotutk)&amp;ai=CLIENT_ID(amputk)">
    </amp-pixel>
    
  </body>

<!-- Mirrored from resources.xceptional.com/blog/2018/05/09/balancing-desire-location-analytics-user-privacy?hs_amp=true by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 23 Jan 2024 07:11:45 GMT -->
</html>
